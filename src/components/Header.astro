---
import { md5Hex } from '../lib/md5';
import site from '../config/site';
const { name = site.name, role = site.role, email = site.email, avatar = '/avatar.svg', location = site.location } = Astro.props;

const normalized = 'ezra.hulsman@gmail.com'.trim().toLowerCase();
const gravatarHash = normalized ? await md5Hex(normalized) : '';
const gravatarUrl = gravatarHash ? `https://www.gravatar.com/avatar/${gravatarHash}?s=256&d=404` : avatar;
---
<header class="py-6">
  <div class="rounded-2xl border border-slate-200 bg-white/80 p-6 md:p-8 shadow-sm">
    <div class="flex flex-col sm:flex-row sm:items-center gap-6 sm:gap-8">
      <img
        src={gravatarUrl}
        onerror="this.onerror=null;this.src='/avatar.svg'"
        alt={name}
        width={160}
        height={160}
        class="h-32 w-32 md:h-40 md:w-40 rounded-full ring-4 ring-indigo-200/70 object-cover shadow-md"
      />
      <div class="text-center sm:text-left">
        <h1 class="text-3xl md:text-4xl font-semibold tracking-tight text-slate-900">{name}</h1>
        <p class="mt-1 text-base text-slate-600">{role} · {location}</p>
        <p class="text-xs text-slate-500 mt-2">Python · React · Rust · C/C++ · Java · Bash</p>
      </div>
    </div>
  </div>
  
</header>
