---
import { gravatarUrl } from '../lib/gravatar';
import site from '../config/site';
const { name = site.name, role = site.role, company = site.company, location = site.location } = Astro.props;
---
<header class="py-4 sm:py-6">
  <div class="card-responsive shadow-sm">
    <div class="flex flex-row items-center flex-nowrap gap-3 sm:gap-4 md:gap-6">
      <img
        src={gravatarUrl}
        onerror="this.onerror=null;this.src='/avatar.svg'"
        alt={name}
        width={160}
        height={160}
        class="w-20 h-20 sm:w-24 sm:h-24 md:w-32 md:h-32 lg:w-40 lg:h-40 rounded-full ring-2 sm:ring-4 ring-indigo-200/70 object-cover shadow-md shrink-0"
      />
      <div class="flex-1 min-w-0 break-words text-left">
        <h1 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-semibold tracking-tight text-theme-primary">{name}</h1>
        
        <!-- Mobile: Stack role/company and location vertically -->
        <div class="sm:hidden mt-1 space-y-0.5">
          <p class="text-sm text-theme-tertiary">
            {role}{company && ` @ ${company}`}
          </p>
          <p class="text-sm text-theme-tertiary">
            {location}
          </p>
        </div>
        
        <!-- Desktop: Keep on one line -->
        <p class="hidden sm:block mt-1 text-sm sm:text-base text-theme-tertiary">
          {role}{company && ` @ ${company}`} · {location}
        </p>
        
        <p class="text-xs sm:text-sm text-theme-muted mt-1 sm:mt-2">
          {site.skills.map((s, i) => (
            <span class={`inline-block ${i > 0 ? 'before:content-["·"] before:mx-1' : ''}`}>{s}</span>
          ))}
        </p>
      </div>
    </div>
  </div>
</header>
