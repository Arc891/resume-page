---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ProjectCard from '../../components/ProjectCard.astro';
// Auto-discover MDX case studies in this folder
const entries = await Astro.glob('./*.mdx');
type Frontmatter = { title?: string; description?: string; tech?: string[]; date?: string };
const projects = entries.map((m) => ({
  title: ((m as any).frontmatter?.title as string) ?? 'Untitled',
  description: ((m as any).frontmatter?.description as string) ?? '',
  href: m.url as string,
  tags: (((m as any).frontmatter?.tech as string[]) ?? []),
}));
---
<BaseLayout title="Projects â€” Ezra Hulsman" description="Case studies and selected projects by Ezra Hulsman.">
  <header class="mt-2">
    <h1 class="text-2xl font-semibold tracking-tight">Projects</h1>
    <p class="text-slate-600 mt-1">Small, focused write-ups for selected work.</p>
  </header>
  <section class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-5">
    {projects.map(p => (
      <ProjectCard title={p.title} description={p.description} href={p.href} tags={p.tags} />
    ))}
  </section>
</BaseLayout>
