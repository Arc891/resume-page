@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   CENTRALIZED THEME SYSTEM
   ======================================== */

/* Default Theme (Light) */
:root {
  /* Core Colors */
  --color-bg-primary: rgb(255 255 255);
  --color-bg-secondary: rgb(248 250 252);
  --color-bg-tertiary: rgb(241 245 249);
  --color-bg-elevated: rgba(255 255 255 / 0.7);
  
  /* Text Colors */
  --color-text-primary: rgb(15 23 42);
  --color-text-secondary: rgb(51 65 85);
  --color-text-tertiary: rgb(71 85 105);
  --color-text-muted: rgb(100 116 139);
  
  /* Border Colors */
  --color-border-primary: rgb(226 232 240);
  --color-border-secondary: rgb(203 213 225);
  
  /* Accent Colors */
  --color-accent-primary: rgb(99 102 241);
  --color-accent-hover: rgb(79 70 229);
  --color-accent-light: rgb(165 180 252);
  
  /* Skill Badge Colors */
  --color-accent-alpha: rgba(99 102 241 / 0.1);
  --color-accent-border: rgba(99 102 241 / 0.2);
  --color-secondary-alpha: rgba(51 65 85 / 0.5);
  --color-tertiary-alpha: rgba(71 85 105 / 0.3);
  --color-border: var(--color-border-primary);
  
  /* Status Colors */
  --color-success: rgb(34 197 94);
  --color-warning: rgb(245 158 11);
  --color-error: rgb(239 68 68);
  --color-info: rgb(59 130 246);
  
  /* Badge Alpha Colors */
  --color-success-alpha: rgba(34 197 94 / 0.1);
  --color-success-border: rgba(34 197 94 / 0.2);
  --color-warning-alpha: rgba(245 158 11 / 0.1);
  --color-warning-border: rgba(245 158 11 / 0.2);
  --color-info-alpha: rgba(59 130 246 / 0.1);
  --color-info-border: rgba(59 130 246 / 0.2);
  
  /* Gradients */
  --gradient-bg: linear-gradient(135deg, rgb(241 245 249) 0%, rgb(226 232 240) 100%);
  
  /* Transitions */
  --transition-theme: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Dark Theme */
[data-theme="dark"] {
  /* Core Colors */
  --color-bg-primary: rgb(15 23 42);
  --color-bg-secondary: rgb(30 41 59);
  --color-bg-tertiary: rgb(51 65 85);
  --color-bg-elevated: rgba(30 41 59 / 0.8);
  
  /* Text Colors */
  --color-text-primary: rgb(248 250 252);
  --color-text-secondary: rgb(226 232 240);
  --color-text-tertiary: rgb(203 213 225);
  --color-text-muted: rgb(148 163 184);
  
  /* Border Colors */
  --color-border-primary: rgb(71 85 105);
  --color-border-secondary: rgb(51 65 85);
  
  /* Accent Colors remain same for consistency */
  --color-accent-primary: rgb(99 102 241);
  --color-accent-hover: rgb(129 140 248);
  --color-accent-light: rgb(165 180 252);
  
  /* Skill Badge Colors */
  --color-accent-alpha: rgba(99 102 241 / 0.15);
  --color-accent-border: rgba(99 102 241 / 0.3);
  --color-secondary-alpha: rgba(226 232 240 / 0.15);
  --color-tertiary-alpha: rgba(203 213 225 / 0.1);
  --color-border: var(--color-border-primary);
  
  /* Status Colors - Same base colors but with dark theme alphas */
  --color-success: rgb(34 197 94);
  --color-warning: rgb(245 158 11);
  --color-error: rgb(239 68 68);
  --color-info: rgb(59 130 246);
  
  /* Badge Alpha Colors */
  --color-success-alpha: rgba(34 197 94 / 0.15);
  --color-success-border: rgba(34 197 94 / 0.3);
  --color-warning-alpha: rgba(245 158 11 / 0.15);
  --color-warning-border: rgba(245 158 11 / 0.3);
  --color-info-alpha: rgba(59 130 246 / 0.15);
  --color-info-border: rgba(59 130 246 / 0.3);
  
  /* Gradients */
  --gradient-bg: linear-gradient(135deg, rgb(30 41 59) 0%, rgb(15 23 42) 100%);
}

/* Future theme example - Gruvbox */
[data-theme="gruvbox"] {
  /* Core Colors */
  --color-bg-primary: rgb(40 40 40);
  --color-bg-secondary: rgb(60 56 54);
  --color-bg-tertiary: rgb(80 73 69);
  --color-bg-elevated: rgba(60 56 54 / 0.9);
  
  /* Text Colors */
  --color-text-primary: rgb(235 219 178);
  --color-text-secondary: rgb(213 196 161);
  --color-text-tertiary: rgb(189 174 147);
  --color-text-muted: rgb(146 131 116);
  
  /* Border Colors */
  --color-border-primary: rgb(102 92 84);
  --color-border-secondary: rgb(80 73 69);
  
  /* Accent Colors - Gruvbox orange */
  --color-accent-primary: rgb(254 128 25);
  --color-accent-hover: rgb(254 128 25);
  --color-accent-light: rgb(254 128 25);
  
  /* Skill Badge Colors */
  --color-accent-alpha: rgba(254 128 25 / 0.15);
  --color-accent-border: rgba(254 128 25 / 0.3);
  --color-secondary-alpha: rgba(213 196 161 / 0.15);
  --color-tertiary-alpha: rgba(189 174 147 / 0.1);
  --color-border: var(--color-border-primary);
  
  /* Status Colors - Gruvbox variants */
  --color-success: rgb(184 187 38);  /* Gruvbox green */
  --color-warning: rgb(254 128 25);  /* Gruvbox orange */
  --color-error: rgb(204 36 29);     /* Gruvbox red */
  --color-info: rgb(131 165 152);    /* Gruvbox aqua */
  
  /* Badge Alpha Colors */
  --color-success-alpha: rgba(184 187 38 / 0.15);
  --color-success-border: rgba(184 187 38 / 0.3);
  --color-warning-alpha: rgba(254 128 25 / 0.15);
  --color-warning-border: rgba(254 128 25 / 0.3);
  --color-info-alpha: rgba(131 165 152 / 0.15);
  --color-info-border: rgba(131 165 152 / 0.3);
  
  /* Gradients */
  --gradient-bg: linear-gradient(135deg, rgb(60 56 54) 0%, rgb(40 40 40) 100%);
}

/* ========================================
   BASE STYLES USING THEME VARIABLES
   ======================================== */

html {
  min-height: 100%;
  background: var(--color-bg-primary);
  transition: var(--transition-theme);
}

body {
  min-height: 100vh;
  background: var(--color-bg-primary);
  color: var(--color-text-secondary);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  transition: var(--transition-theme);
  margin: 0;
  padding: 0;
}

/* Ensure the root container also has proper background */
#app, main {
  min-height: 100vh;
  background: var(--color-bg-primary);
  transition: var(--transition-theme);
}

/* ========================================
   COMPONENT STYLES USING THEME VARIABLES
   ======================================== */

@layer components {
  /* Prose styles using theme variables */
  .prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
    color: var(--color-text-primary);
    transition: var(--transition-fast);
  }
  
  .prose h1 { 
    @apply text-3xl font-bold; 
    margin-bottom: 1.5rem;
  }
  .prose h2 { 
    @apply text-2xl font-semibold; 
    margin-top: 2.5rem;
    margin-bottom: 1.25rem;
  }
  .prose h3 { 
    @apply text-xl font-semibold; 
    margin-top: 2rem;
    margin-bottom: 1rem;
  }
  .prose h4 { 
    @apply text-lg font-semibold; 
    margin-top: 1.75rem;
    margin-bottom: 0.75rem;
  }
  .prose h5 { 
    @apply text-base font-semibold; 
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
  }
  .prose h6 { 
    @apply text-sm font-semibold; 
    margin-top: 1.25rem;
    margin-bottom: 0.5rem;
  }
  
  .prose p {
    color: var(--color-text-secondary);
    line-height: 1.625;
    margin-bottom: 1rem;
  }
  
  .prose strong {
    color: var(--color-text-primary);
    font-weight: 600;
  }
  
  .prose a {
    color: var(--color-accent-primary);
    text-decoration: underline;
    text-decoration-color: var(--color-accent-light);
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .prose a:hover {
    color: var(--color-accent-hover);
    text-decoration-color: var(--color-accent-primary);
    transform: scale(1.02);
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
  }

  /* Global link hover effects */
  a:not(.btn-theme-accent):not(.card-theme) {
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  a:not(.btn-theme-accent):not(.card-theme):hover {
    transform: scale(1.02);
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
  }

  /* Dark theme link shadows */
  [data-theme="dark"] a:not(.btn-theme-accent):not(.card-theme):hover,
  [data-theme="dark"] .prose a:hover {
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
  }

  /* Gruvbox theme link shadows */
  [data-theme="gruvbox"] a:not(.btn-theme-accent):not(.card-theme):hover,
  [data-theme="gruvbox"] .prose a:hover {
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.4));
  }
  
  .prose ul, .prose ol {
    color: var(--color-text-secondary);
    margin-bottom: 1rem;
    padding-left: 1.5rem;
    list-style-position: outside;
  }
  
  .prose ul {
    list-style-type: disc;
  }
  
  .prose ol {
    list-style-type: decimal;
  }
  
  .prose li {
    margin-bottom: 0.5rem;
    padding-left: 0.25rem;
  }
  
  .prose code {
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-primary);
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-size: 0.875em;
    border: 1px solid var(--color-border-primary);
  }
  
  /* Override inline code styling when inside pre blocks */
  .prose pre code {
    background-color: transparent;
    color: inherit;
    padding: 0;
    border-radius: 0;
    font-size: inherit;
    border: none;
  }
  
  .prose pre {
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-primary);
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
    margin: 1rem 0;
    border: 1px solid var(--color-border-primary);
  }
  
  .prose blockquote {
    border-left: 4px solid var(--color-accent-primary);
    padding-left: 1rem;
    color: var(--color-text-tertiary);
    font-style: italic;
    margin: 1rem 0;
    background-color: var(--color-bg-tertiary);
    padding: 1rem;
    border-radius: 0.5rem;
  }
  
  /* Themed component classes */
  .bg-theme-primary { background-color: var(--color-bg-primary); }
  .bg-theme-secondary { background-color: var(--color-bg-secondary); }
  .bg-theme-tertiary { background-color: var(--color-bg-tertiary); }
  .bg-theme-elevated { background-color: var(--color-bg-elevated); }
  
  .text-theme-primary { color: var(--color-text-primary); }
  .text-theme-secondary { color: var(--color-text-secondary); }
  .text-theme-tertiary { color: var(--color-text-tertiary); }
  .text-theme-muted { color: var(--color-text-muted); }
  
  .border-theme-primary { border-color: var(--color-border-primary); }
  .border-theme-secondary { border-color: var(--color-border-secondary); }
  
  .text-theme-accent { color: var(--color-accent-primary); }
  .bg-theme-accent { background-color: var(--color-accent-primary); }
  
  /* Interactive elements */
  .btn-theme-accent {
    background-color: var(--color-accent-primary);
    color: var(--color-bg-primary);
    transition: var(--transition-fast);
  }
  
  .btn-theme-accent:hover {
    background-color: var(--color-accent-hover);
  }
  
  /* Cards and elevated surfaces */
  .card-theme {
    background-color: var(--color-bg-elevated);
    border: 1px solid var(--color-border-primary);
    transition: var(--transition-theme);
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  }
  
  .card-theme:hover {
    border-color: var(--color-border-secondary);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  /* Dark theme shadows */
  [data-theme="dark"] .card-theme {
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
  }
  
  [data-theme="dark"] .card-theme:hover {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }

  /* Gruvbox theme shadows */
  [data-theme="gruvbox"] .card-theme {
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  }
  
  [data-theme="gruvbox"] .card-theme:hover {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
  }

  /* ========================================
     RESPONSIVE UTILITIES
     ======================================== */

  /* Prevent content from becoming too narrow */
  .container-responsive {
    min-width: 280px; /* Minimum container width */
    width: 100%;
    max-width: 100%;
  }

  /* Responsive text sizing */
  .text-responsive-lg {
    @apply text-lg sm:text-xl md:text-2xl;
  }

  .text-responsive-base {
    @apply text-sm sm:text-base;
  }

  .text-responsive-sm {
    @apply text-xs sm:text-sm;
  }

  /* Responsive spacing */
  .space-responsive {
    @apply space-y-4 sm:space-y-6;
  }

  .gap-responsive {
    @apply gap-3 sm:gap-4 md:gap-6;
  }

  .p-responsive {
    @apply p-4 sm:p-6;
  }

  .px-responsive {
    @apply px-3 sm:px-6;
  }

  .py-responsive {
    @apply py-4 sm:py-6;
  }

  /* Grid responsive utilities */
  .grid-responsive-2 {
    @apply grid grid-cols-1 sm:grid-cols-2;
  }

  .grid-responsive-3 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3;
  }

  /* Flex responsive utilities */
  .flex-responsive-col {
    @apply flex flex-col sm:flex-row;
  }

  .flex-responsive-wrap {
    @apply flex flex-wrap;
  }

  /* Button responsive sizing */
  .btn-responsive {
    @apply px-3 py-1.5 text-sm sm:px-4 sm:py-2 sm:text-base;
  }

  .btn-align-right {
    @apply w-full sm:w-auto sm:ml-auto;
  }

  /* Card responsive styling */
  .card-responsive {
    @apply card-theme p-4 sm:p-6 rounded-3xl sm:rounded-3xl;
    /* border-radius: 1.5rem; */
    min-width: auto;
  }

  /* Hide elements responsively */
  .hide-mobile {
    @apply hidden sm:block;
  }

  .hide-desktop {
    @apply block sm:hidden;
  }

  .show-mobile-flex {
    @apply flex sm:hidden;
  }

  .show-desktop-flex {
    @apply hidden sm:flex;
  }

  /* Text overflow handling */
  .text-overflow-responsive {
    @apply truncate sm:text-clip;
  }

  /* Responsive margins and padding for better mobile experience */
  @media (max-width: 460px) {
    .container-responsive {
      min-width: 280px;
      margin: 0 auto;
      padding: 0 12px;
    }

    /* Ensure cards don't shrink too much but stay full width */
    .card-theme,
    .card-responsive {
      min-width: auto;
      width: 100%;
    }

    /* Better button sizing on very small screens */
    .btn-theme-accent {
      @apply px-2 py-1 text-xs min-w-fit;
    }

    /* Improved typography on small screens */
    h1 { @apply text-xl; }
    h2 { @apply text-lg; }
    h3 { @apply text-base; }
    
    /* Better spacing on mobile */
    .space-y-6 > * + * {
      margin-top: 1rem;
    }
    
    .space-y-4 > * + * {
      margin-top: 0.75rem;
    }
  }
}

@layer base {
  /* Make all images non-selectable by default */
  img {
    @apply select-none;
  }
  
  /* Make badge/tag elements non-selectable */
  .inline-flex.items-center.rounded-full {
    @apply select-none;
  }
}

/* Skill badge styles - theme aware */
.skill-badge-primary {
  @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium;
  background-color: var(--color-accent-alpha);
  color: var(--color-accent-primary);
  border: 1px solid var(--color-accent-border);
}

.skill-badge-secondary {
  @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium;
  background-color: var(--color-secondary-alpha);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border);
}

.skill-badge-tertiary {
  @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium;
  background-color: var(--color-tertiary-alpha);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

/* Interest and Tech badge styles */
.interest-badge-1 {
  @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium;
  background-color: var(--color-success-alpha);
  color: var(--color-success);
  border: 1px solid var(--color-success-border);
}

.interest-badge-2 {
  @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium;
  background-color: var(--color-warning-alpha);
  color: var(--color-warning);
  border: 1px solid var(--color-warning-border);
}

.interest-badge-3 {
  @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium;
  background-color: var(--color-accent-alpha);
  color: var(--color-accent-primary);
  border: 1px solid var(--color-accent-border);
}

.tech-badge-1 { @apply interest-badge-1; }
.tech-badge-2 { @apply interest-badge-2; }
.tech-badge-3 { @apply interest-badge-3; }
.tech-badge-4 {
  @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium;
  background-color: var(--color-info-alpha);
  color: var(--color-info);
  border: 1px solid var(--color-info-border);
}

/* Additional theme utilities */
.text-theme-accent { color: var(--color-accent-primary); }
.bg-theme-accent-alpha { background-color: var(--color-accent-alpha); }
.border-theme-accent-alpha { border-color: var(--color-accent-border); }
